<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>A&J Logistics — Reliable Cross-Border Logistics</title>
    <meta name="description" content="A&J provides reliable cross-border logistics between Malaysia, Singapore and beyond. Sea & air freight, customs, warehousing, and last-mile." />

    <link rel="preconnect" href="https://images.unsplash.com" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles.css?v=2" />
  </head>
  <body>
    <a class="skip-link" href="#home">Skip to content</a>

    <header class="site-header" role="banner">
      <div class="container header-inner">
        <a href="/" class="brand" aria-label="A and J Logistics home">
          <img class="brand-logo" src="./images/A&J Logo (PNG).png" alt="A&J Logistics" />
        </a>

        <nav class="primary-nav" aria-label="Primary">
          <button class="nav-toggle" aria-expanded="false" aria-controls="nav-list">
            <span class="bar"></span><span class="bar"></span><span class="bar"></span>
          </button>
          <ul id="nav-list" class="nav-list">
            <li><a data-i18n="nav.home" href="/">Home</a></li>
            <li><a data-i18n="nav.about" href="/#about">About Us</a></li>
            <li><a data-i18n="nav.services" href="/#services">Our Services</a></li>
            <li><a data-i18n="nav.products" href="/#products">Our Products</a></li>
            <li><a data-i18n="nav.news" href="/news">News</a></li>
            <li><a data-i18n="nav.contact" href="/#location">Contact</a></li>
          </ul>
          <button class="nav-close" aria-label="Close menu" aria-controls="nav-list" type="button">×</button>
        </nav>

        <div class="lang-switch" aria-label="Language selector">
          <button class="lang-btn" data-lang="jp" aria-pressed="false">
            <span class="flag-circle" aria-hidden="true"><img src="./images/jp.svg" width="20" height="15" alt="Japan" /></span>
            <span class="label">JP</span>
          </button>
          <button class="lang-btn" data-lang="en" aria-pressed="true">
            <span class="flag-circle" aria-hidden="true"><img src="./images/gb.svg" width="20" height="15" alt="English" /></span>
            <span class="label">EN</span>
          </button>
          <button class="lang-btn" data-lang="zh" aria-pressed="false">
            <span class="flag-circle" aria-hidden="true"><img src="./images/cn.svg" width="20" height="15" alt="中文" /></span>
            <span class="label">中文</span>
          </button>
        </div>
      </div>
    </header>

    <main id="home" class="main" tabindex="-1">
      <!-- Hero -->
      <section class="section hero" aria-labelledby="hero-title">
        <div class="hero-bg" role="img" aria-label="Container port and warehouse operations"></div>
        <div class="hero-overlay"></div>
        <div class="container hero-center">
          <div class="hero-copy reveal">
            <h1 id="hero-title" data-i18n="hero.title">Reliable Cross-Border Logistics</h1>
            <p class="lead" data-i18n="hero.lead">
              We move your goods between Malaysia, Singapore, and beyond with speed and care.
            </p>
            <div class="cta-row">
              <a class="btn btn-primary" data-i18n="hero.ctaServices" href="#services">Our Services</a>
              <a class="btn btn-secondary" data-i18n="hero.ctaContact" href="#location">Contact</a>
            </div>
          </div>
          <a class="scroll-down" href="#about" aria-label="Scroll to about us">
            <span class="chevron"></span>
          </a>
        </div>
      </section>

      <!-- About Us -->
      <section id="about" class="section section-divider" aria-labelledby="about-title">
        <div class="container about-grid">
          <div class="about-left reveal">
            <h2 id="about-title" class="section-title" data-i18n="about.subtitle">Bringing Asia Closer Together</h2>
            <p class="about-text" data-i18n="about.body">
              A&J HAKKO is dedicated to delivering the finest Japanese food products not only domestically but throughout Asia. Rooted in Hakko Transport Co., Ltd., a company with over 70 years of history since its founding, we have cultivated logistics expertise that preserves food quality while delivering products intact across Asia. We adapt to diverse international logistics practices and support bringing authentic Japanese flavors to the world.
            </p>
            <a href="/company" class="btn btn-primary" data-i18n="about.learnMore">Learn More About Us</a>
          </div>
          <div class="about-right reveal" aria-hidden="true">
            <img src="./images/aj02.jpg" alt="About A&J logistics team" loading="lazy" />
          </div>
        </div>
      </section>

      <!-- Services Overview -->
      <section id="services" class="section section-divider" aria-labelledby="services-title">
        <div class="container">
          <div class="section-head">
            <h2 id="services-title" class="section-title" data-i18n="services.title">Our Services</h2>
            <div class="slider-controls">
              <button class="slider-btn prev" aria-label="Previous">
                <span aria-hidden="true">◀</span>
              </button>
              <div class="slider-progress" aria-hidden="true"><div class="bar"></div></div>
              <button class="slider-btn next" aria-label="Next">
                <span aria-hidden="true">▶</span>
              </button>
            </div>
          </div>
          <div class="carousel">
            <div class="carousel-track">
              <div class="card reveal">
                <img src="./images/HP5.png" alt="Logistics operations" loading="lazy" />
                <h3 data-i18n="services.logistics.title">Logistics Business</h3>
                <p class="value" data-i18n="services.logistics.summary">One-stop food import/export, delivery and wholesale services from Japan to Singapore with cold chain logistics.</p>
                <a href="/services#logistics" class="details" data-i18n="services.details">Details</a>
              </div>

              <div class="card reveal">
                <img src="./images/ISETAN FAIR.jpg" alt="Event support operations" loading="lazy" />
                <h3 data-i18n="services.events.title">Event Support Business</h3>
                <p class="value" data-i18n="services.events.summary">Support for Japanese food event exhibitions at local department stores with end-to-end logistics.</p>
                <a href="/services#events" class="details" data-i18n="services.details">Details</a>
              </div>

              <div class="card reveal">
                <img src="./images/slide02.jpg" alt="Investment business" loading="lazy" />
                <h3 data-i18n="services.investment.title">Investment Business</h3>
                <p class="value" data-i18n="services.investment.summary">Strategic investments in Asian food and beverage businesses to expand Japanese food accessibility.</p>
                <a href="/services#investment" class="details" data-i18n="services.details">Details</a>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Brand (full-width marquee) -->
      <section id="brand" class="section section-divider" aria-labelledby="brand-title">
        <div class="container">
          <h2 id="brand-title" class="section-title" data-i18n="brand.title" style="text-align: center;">Our Customers</h2>
        </div>
        <div class="brand-viewport" aria-label="Customer logos">
          <div class="brand-track">
            <img src="./images/customers/Acrro.jpg" alt="Acrro" loading="lazy" />
            <img src="./images/customers/cainiyap.png" alt="Cainiyap" loading="lazy" />
            <img src="./images/customers/CFC-Logo.jpg" alt="CFC" loading="lazy" />
            <img src="./images/customers/chateraise.jpg" alt="Chateraise" loading="lazy" />
            <img src="./images/customers/FOOD BASE LOGO.jpg" alt="Food Base" loading="lazy" />
            <img src="./images/customers/ISetan Singapore Ltd.png" alt="Isetan Singapore" loading="lazy" />
            <img src="./images/customers/KANENA MISO LOGO.jpg" alt="Kanena Miso" loading="lazy" />
            <img src="./images/customers/NISHIKIYA KITCHEN LOGO.jpg" alt="Nishikiya Kitchen" loading="lazy" />
            <img src="./images/customers/PIONEER LOGO.jpg" alt="Pioneer" loading="lazy" />
            <img src="./images/customers/Rubicon.jpg" alt="Rubicon" loading="lazy" />
            <img src="./images/customers/URESHINO LABO LOGO.jpg" alt="Ureshino Labo" loading="lazy" />
            <img src="./images/customers/ZENNOH.png" alt="Zennoh" loading="lazy" />
          </div>
        </div>
      </section>

      <!-- Products Auto Carousel (2 rows, 4 each) -->
      <section id="products" class="section section-divider" aria-labelledby="products-title">
        <div class="container">
          <h2 id="products-title" class="section-title" data-i18n="products.title">Our Products</h2>
          <div class="products-viewport">
            <button class="products-btn prev" aria-label="Previous products">◀</button>
            <div class="products-row" data-row="1"><div class="products-track" id="home-products-track-1"></div></div>
            <div class="products-row" data-row="2"><div class="products-track" id="home-products-track-2"></div></div>
            <button class="products-btn next" aria-label="Next products">▶</button>
          </div>
          <div class="products-cta">
            <a class="btn" href="/products" data-i18n="products.viewAll" style="border:1px solid #e5e7eb;background:#fff;">View all</a>
            <a class="btn btn-accent" href="https://s.lazada.sg/s.XP6SY" target="_blank" rel="noopener" data-i18n="products.shopNow">Shop Now</a>
          </div>
        </div>
      </section>

      <!-- News preview -->
      <section id="news" class="section section-divider" aria-labelledby="news-title">
        <div class="container">
          <div class="section-head" style="align-items: end; justify-content: space-between; gap: 12px;">
            <h2 id="news-title" class="section-title" data-i18n="news.title">Latest News</h2>
            <a class="btn btn-accent" href="/news" data-i18n="news.viewAll">View all news</a>
          </div>
          <div id="news-cards" class="news-grid" aria-live="polite" aria-busy="true"></div>
        </div>
      </section>

      <!-- Achievements -->
      <section id="achievements" class="section section-divider" aria-labelledby="achievements-title">
        <div class="container">
          <h2 id="achievements-title" class="section-title" data-i18n="achievements.title" style="text-align: center;">Achievements</h2>
          <div class="metrics">
            <div class="metric reveal">
              <div class="num"><span class="countup" data-target="98.6">0</span><span>%</span></div>
              <div class="label">
                <span data-i18n="achievements.onTime">On‑time delivery rate</span>
              </div>
            </div>
            <div class="metric reveal">
              <div class="num"><span class="countup" data-target="42">0</span></div>
              <div class="label">
                <span data-i18n="achievements.lanes">Lanes/countries covered</span>
              </div>
            </div>
            <div class="metric reveal">
              <div class="num"><span class="countup" data-target="3.2">0</span><span>h</span></div>
              <div class="label">
                <span data-i18n="achievements.clearance">Average clearance time</span>
              </div>
            </div>
            <div class="metric reveal">
              <div class="num"><span class="countup" data-target="1200">0</span><span>+</span></div>
              <div class="label">
                <span data-i18n="achievements.skus">Monthly handled SKUs/TEUs</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Location / Contact Target -->
      <section id="location" class="section section-divider" aria-labelledby="location-title">
        <div class="container">
          <h2 id="location-title" class="section-title" data-i18n="location.title">Location</h2>
          <div class="locations">
            <div class="locations-featured">
              <article class="location-featured reveal" aria-labelledby="loc-sg">
                <div class="map-wrap">
                  <iframe class="map" title="Singapore map" src="https://www.openstreetmap.org/export/embed.html?bbox=103.699939%2C1.291912%2C103.739939%2C1.331912&layer=mapnik&marker=1.311912%2C103.719939" loading="lazy"></iframe>
                  <div class="map-badge"><span data-i18n="location.sg.title">Singapore</span></div>
                </div>
                <div class="loc-meta">
                  <h3 id="loc-sg" data-i18n="location.sg.title">Singapore</h3>
                  <p class="addr" data-i18n="location.sg.addr">88 Logistics Ave, Jurong</p>
                  <p class="hours"><span data-i18n="location.hours">Business hours</span>: 09:00–18:00</p>
                  <p class="contact-line"><span data-i18n="location.email">Email</span>: <a href="mailto:sg@aj-logistics.com">sg@aj-logistics.com</a></p>
                  <p class="contact-line"><span data-i18n="location.phone">Phone</span>: <a href="tel:+6562656942">(+65) 6265 6942</a></p>
                  <a class="open-maps" href="https://maps.google.com/?q=Jurong+Logistics+Hub" target="_blank" rel="noopener" data-i18n="location.openMaps">Open in Maps</a>
                </div>
              </article>
            </div>
            <div class="locations-grid">
              <article class="location-card reveal" aria-labelledby="loc-my">
                <div class="map-wrap">
                  <iframe class="map" title="Malaysia map" src="https://www.openstreetmap.org/export/embed.html?bbox=103.711356%2C1.462659%2C103.771356%2C1.522659&layer=mapnik&marker=1.492659%2C103.741356" loading="lazy"></iframe>
                  <div class="map-badge"><span data-i18n="location.my.title">Malaysia</span></div>
                </div>
                <h3 id="loc-my" data-i18n="location.my.title"><a href="https://www.aj-hakko.com.my/">Malaysia</a></h3>
                <p class="addr" data-i18n="location.my.addr">No. 33-5, 5th Floor, The Boulevard Office, Mid Valley City, Lingkaran Syed Putra, 59200, Kuala Lumpur, Malaysia</p>
                <p class="hours"><span data-i18n="location.hours">Business hours</span>: 09:00–18:00</p>
                <p class="contact-line"><span data-i18n="location.email">Email</span>: <a href="mailto:info@aj-hakko.com.my">info@aj-hakko.com.my</a></p>
                <p class="contact-line"><span data-i18n="location.phone">Phone</span>: <a href="tel:+60327046275">+60 03-2704-6275</a></p>
                <a class="open-maps" href="https://maps.google.com/?q=Johor+Bahru+Industrial+Park" target="_blank" rel="noopener" data-i18n="location.openMaps">Open in Maps</a>
              </article>

              <article class="location-card reveal" aria-labelledby="loc-jp">
                <div class="map-wrap">
                  <iframe class="map" title="Japan map" src="https://www.openstreetmap.org/export/embed.html?bbox=139.6417%2C35.6395%2C139.7417%2C35.7395&layer=mapnik&marker=35.6895%2C139.6917" loading="lazy"></iframe>
                  <div class="map-badge"><span data-i18n="location.jp.title">Japan</span></div>
                </div>
                <h3 id="loc-jp" data-i18n="location.jp.title"><a href="http://hakkoshoji.com/">Japan</a></h3>
                <p class="addr" data-i18n="location.jp.addr">〒8830-0062宮崎県日向市大字日知屋16392番地</p>
                <p class="hours"><span data-i18n="location.hours">Business hours</span>: 09:00–18:00</p>
                <p class="contact-line"><span data-i18n="location.phone">Phone</span>: <a href="tel:+8109825736600">+81 0982-57-3660</a></p>
                <a class="open-maps" href="https://maps.google.com/?q=Chiyoda+City+Tokyo" target="_blank" rel="noopener" data-i18n="location.openMaps">Open in Maps</a>
              </article>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-grid">
        <div class="footer-left">
          <div class="brand-row">
            <span class="brand-text">A&J Logistics</span>
            <div class="lang-switch small">
              <button class="lang-btn" data-lang="jp" aria-pressed="false"><span class="flag-circle"><img src="./images/jp.svg" width="20" height="15" alt="Japan" /></span><span class="label">JP</span></button>
              <button class="lang-btn" data-lang="en" aria-pressed="true"><span class="flag-circle"><img src="./images/gb.svg" width="20" height="15" alt="English" /></span><span class="label">EN</span></button>
              <button class="lang-btn" data-lang="zh" aria-pressed="false"><span class="flag-circle"><img src="./images/cn.svg" width="20" height="15" alt="中文" /></span><span class="label">中文</span></button>
            </div>
          </div>
          <p class="copy">© <span id="year"></span> A&J Logistics</p>
        </div>
        <div class="footer-right">
          <div class="contacts">
            <p><strong>MY</strong>: <a href="mailto:info@aj-hakko.com.my">info@aj-hakko.com.my</a>, <a href="tel:+60327046275">+60 03-2704-6275</a></p>
            <p><strong>SG</strong>: <a href="mailto:sg@aj-logistics.com">sg@aj-logistics.com</a>, <a href="tel:+6562656942">(+65) 6265 6942</a></p>
          </div>
          <div class="policies">
            <a href="#" role="link">Terms</a>
            <a href="#" role="link">Privacy</a>
          </div>
        </div>
      </div>
    </footer>

    <script src="./script.js" defer></script>
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
      import { getFirestore, collection, query, where, orderBy, limit, getDocs } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
      import { firebaseConfig } from "./firebase-config.js";

      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      const grid = document.getElementById('news-cards');
      if (grid) {
        const lang = localStorage.getItem('lang') || 'en';
        const listRef = collection(db, 'news');
        const q = query(
          listRef,
          where('published', '==', true),
          where('lang', '==', lang),
          orderBy('publishedAt', 'desc'),
          limit(3)
        );
        try {
          const snap = await getDocs(q);
          grid.setAttribute('aria-busy', 'false');
          grid.innerHTML = snap.docs.map(d => {
            const n = d.data();
            const date = n.publishedAt?.toDate ? n.publishedAt.toDate() : (n.publishedAt ? new Date(n.publishedAt) : new Date());
            const cover = n.coverUrl || (Array.isArray(n.imageUrls) && n.imageUrls.length ? n.imageUrls[0] : null);
            return `
            <article class="news-card">
              ${cover ? `<img src="${cover}" alt="">` : ''}
              <div class="pad">
                <time datetime="${date.toISOString()}">${date.toLocaleDateString()}</time>
                <h3>${n.title || ''}</h3>
                <p>${(n.body || '').replace(/<[^>]*>/g,'').slice(0,120)}</p>
              </div>
              <a class="btn btn-accent" href="/news/${encodeURIComponent(n.slug)}" aria-label="Read: ${n.title || ''}">Read</a>
            </article>`;
          }).join('') || '<p>No news yet.</p>';
        } catch(err) {
          grid.innerHTML = '<p style="color:#ef4444">Failed to load news.</p>';
        }
      }
      // Load products (published) into the two home tracks
      try {
        const ps = await getDocs(query(collection(db,'products'), where('published','==', true), limit(8))); 
        const cards = ps.docs.map(d => {
          const p = d.data();
          return `<article class="product-card">${p.imageUrl?`<img src="${p.imageUrl}" alt="">`:''}<h4>${p.name||''}</h4></article>`;
        });
        const half = Math.ceil(cards.length/2);
        const t1 = document.getElementById('home-products-track-1');
        const t2 = document.getElementById('home-products-track-2');
        if (t1) t1.innerHTML = cards.slice(0, half).join('');
        if (t2) t2.innerHTML = cards.slice(half).join('');
      } catch (e) { console.error('Products error:', e); }
      
      // Load customer logos dynamically from Firebase Storage
      try {
        const { getStorage, ref, listAll, getDownloadURL } = await import("https://www.gstatic.com/firebasejs/10.12.2/firebase-storage.js");
        const storage = getStorage(app);
        const customersRef = ref(storage, 'customers');
        const customersList = await listAll(customersRef);
        
        if (customersList.items.length > 0) {
          const track = document.querySelector('.brand-track');
          if (track) {
            // Clear existing logos
            track.innerHTML = '';
            
            // Add logos from Firebase Storage
            for (const item of customersList.items) {
              const url = await getDownloadURL(item);
              const name = item.name.replace(/\.[^/.]+$/, '').replace(/[_-]/g, ' ');
              track.insertAdjacentHTML('beforeend', `<img src="${url}" alt="${name}" loading="lazy" />`);
            }
            console.log('Loaded', customersList.items.length, 'customer logos from Firebase Storage');
          }
        } else {
          console.log('No customer logos found in Firebase Storage, using static images');
        }
      } catch (e) { 
        console.log('Using static customer logos:', e.message); 
      }
    </script>
  </body>
  </html>


